webpackJsonp([1],{"+WOM":function(t,e,i){t.exports=i.p+"static/img/office_medium.f36a8a2.jpg"},"3Rgy":function(t,e,i){t.exports=i.p+"static/img/landscapes_medium.f5854da.jpg"},"4L5K":function(t,e,i){t.exports=i.p+"static/img/cc-logo_white.3653e37.png"},"668P":function(t,e,i){t.exports=i.p+"static/img/cc-logo_large_black.cfcd104.png"},"9jgp":function(t,e){},DGdl:function(t,e){},"FV+E":function(t,e){},GBH0:function(t,e){},Jead:function(t,e,i){t.exports=i.p+"static/img/people_medium.02fdec0.jpg"},L3sL:function(t,e){},Ljfn:function(t,e){},M4cP:function(t,e){},MDHL:function(t,e){},N1kN:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a=i("woOf"),r=i.n(a),n=i("mtWM"),o=i.n(n),c=i("Rf8U"),l=i.n(c),u=i("hKoQ");i.n(u).a.polyfill();var h={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.creativecommons.engineering",e=arguments[1];s.a.use(l.a,o.a),s.a.axios.defaults.baseURL=t,s.a.axios.defaults.auth=e},setHeader:function(t){r()(s.a.axios.defaults.headers,t)},query:function(t,e){return s.a.axios.get(t,{params:e}).catch(function(t){throw new Error("[RWV] ApiService "+t)})},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s.a.axios.get(t+"/"+e).catch(function(t){throw new Error("[RWV] ApiService "+t)})},post:function(t,e){return s.a.axios.post(""+t,e)},update:function(t,e,i,a){return s.a.axios.put(t+"/"+e,i,{headers:a})},put:function(t,e){return s.a.axios.put(""+t,e)},delete:function(t){return s.a.axios.delete(t).catch(function(t){throw new Error("[RWV] ApiService "+t)})}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var d=i("VU/8")({name:"App"},m,!1,function(t){i("MDHL")},null,null).exports,f=i("/ocq"),g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"nav grid-x grid-padding-x"},[t._m(0),t._v(" "),"true"===t.showNavSearch?i("div",{staticClass:"cell small-12 medium-12 large-6 align-center nav_search"},[i("form",{staticClass:"hero_search-form",attrs:{role:"search",method:"post"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("div",{staticClass:"input-group input-group-rounded"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.searchTerm,expression:"form.searchTerm",modifiers:{lazy:!0}}],staticClass:"input-group-field",attrs:{type:"search",placeholder:"Search the commons..."},domProps:{value:t.form.searchTerm},on:{change:function(e){t.$set(t.form,"searchTerm",e.target.value)}}}),t._v(" "),t._m(1)])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell small-12 medium-12 large-6"},[e("a",{attrs:{href:"/"}},[e("img",{staticClass:"nav_logo",attrs:{src:i("4L5K")}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-button"},[e("button",{staticClass:"button secondary",attrs:{type:"submit",value:"Search"}})])}]};var _={name:"hero",data:function(){return{form:{searchTerm:""}}},methods:{onSubmit:function(){Tt.push({path:"search",query:{q:this.form.searchTerm}})}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hero"},[t._m(0),t._v(" "),i("form",{staticClass:"hero_search-form",attrs:{role:"search",method:"post"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("div",{staticClass:"search-form_ctr grid-x"},[i("div",{staticClass:"cell large-12"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.searchTerm,expression:"form.searchTerm",modifiers:{lazy:!0}}],staticClass:"hero_search-input",attrs:{required:"required",autofocus:"",type:"search",placeholder:"Search the commons...",autocapitalize:"none",id:"searchTerm"},domProps:{value:t.form.searchTerm},on:{change:function(e){t.$set(t.form,"searchTerm",e.target.value)}}})]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"hero_image-attribution"},[e("a",{attrs:{href:"https://www.flickr.com/photos/mtrienke/24336908909/",target:"_blank",rel:"noreferrer"}},[this._v('\n      "Sunrise In The Alps"\n    ')]),this._v("\n    by "),e("a",{attrs:{href:"https://www.flickr.com/photos/mtrienke/"}},[this._v("Markus Trienke")]),this._v(" is licensed under\n    "),e("a",{attrs:{href:"https://creativecommons.org/licenses/by-sa/2.0/"}},[this._v("CC BY-SA 2.0")]),this._v(" "),e("span",{staticClass:"hero_instagram-icon"},[this._v("Â ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell large-12"},[e("button",{staticClass:"hero_search-btn",attrs:{title:"Search"}})])}]};var p={name:"header-section",components:{NavSection:i("VU/8")({props:["showNavSearch","fixedNav"],name:"nav-section",data:function(){return{form:{searchTerm:""}}},methods:{onSubmit:function(){this.$router.push({path:"../search",query:{q:this.form.searchTerm}})}}},g,!1,function(t){i("fJUK")},"data-v-73fd30fc",null).exports,HeroSection:i("VU/8")(_,v,!1,function(t){i("P+D4")},"data-v-6ce9862a",null).exports},props:["showHero","showNavSearch","isHeaderFixed"]},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{class:{header:!0,header__fixed:this.isHeaderFixed}},[e("nav-section",{attrs:{showNavSearch:this.showNavSearch}}),this._v(" "),this._t("default"),this._v(" "),"true"===this.showHero?e("hero-section"):this._e()],2)},staticRenderFns:[]};var b=i("VU/8")(p,C,!1,function(t){i("bAaG")},null,null).exports,w=i("Dd8w"),E=i.n(w),y=i("qK+J"),T={name:"search-grid",components:{InfiniteLoading:i.n(y).a},props:{imagesCount:0,images:{},query:null,filters:{},useInfiniteScroll:{default:!0},includeAnalytics:{default:!0},includeAddToList:{default:!0}},computed:{_filter:function(){return this.$store.state.filter},imagePage:function(){return this.$store.state.imagePage},imageCount:function(){return this.$store.state.imagesCount},isFetching:function(){return this.$store.state.isFetching},_query:function(){return this.$store.state.query}},watch:{isFetching:function(){this.$state&&this.$state.loaded()},_query:{handler:function(){this.searchChanged()},deep:!0},_filter:{handler:function(){this.searchChanged()},deep:!0}},methods:{created:function(){var t=this;this.unsubscribe=this.$store.subscribe(function(e){"SET_GRID_FILTER"===e.type&&t.$store.dispatch("FETCH_IMAGES",E()({q:t.query},e.payload.filter))})},onGotoDetailPage:function(t){this.$router.push("/photos/"+t.id)},onAddToImageList:function(t,e){var i=t||{};i.pageX=e.pageX,i.pageY=e.pageY,this.$store.commit("SELECT_IMAGE_FOR_LIST",{image:i})},searchChanged:function(){var t=this;this.$store.commit("SET_IMAGES",{images:[]}),this.$nextTick(function(){t.$refs.infiniteLoader.$emit("$InfiniteLoading:reset")})},infiniteHandler:function(t){var e=this;if(this.$state=t,!1===this.isFetching){if(this.imageCount<20*this.imagePage)return void this.$state.complete();this.$nextTick(function(){e.$store.dispatch("FETCH_IMAGES",E()({q:e.query,page:e.imagePage+1,shouldPersistImages:!0},e._filter))})}}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"search-grid"},[i("div",{staticClass:"row"},[t.includeAnalytics?i("div",{staticClass:"search-grid_analytics"},[i("span",[t._v(t._s(this.$store.state.imagesCount))]),t._v(" "),i("span",[t._v(t._s(t.query))]),t._v("\n      Photos\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"search-grid_layout-control"})]),t._v(" "),t._m(0),t._v(" "),i("div",{ref:"gridItems",staticClass:"search-grid_ctr"},[t._l(t.images,function(e,s){return i("figure",{key:s,staticClass:"search-grid_item",on:{click:function(i){t.onGotoDetailPage(e)}}},[i("a",{staticClass:"search-grid_image-ctr",attrs:{href:e.foreign_landing_url,target:"new"},on:{click:function(t){return t.preventDefault(),!1}}},[i("img",{staticClass:"search-grid_image",attrs:{src:e.thumbnail||e.url}})]),t._v(" "),i("figcaption",{staticClass:"search-grid_item-overlay"},[i("a",{staticClass:"search-grid_overlay-title",attrs:{href:e.foreign_landing_url,target:"new"},on:{click:function(t){return t.stopPropagation(),!1}}},[t._v("\n           "+t._s(e.title)+"\n        ")]),t._v(" "),t.includeAddToList?i("a",{staticClass:"search-grid_overlay-add",on:{click:function(i){i.stopPropagation(),t.onAddToImageList(e,i)}}}):t._e()])])}),t._v(" "),t.useInfiniteScroll?i("infinite-loading",{ref:"infiniteLoader",on:{infinite:t.infiniteHandler}}):t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"search-grid_metrics-bar"},[e("li",[this._v("What's")]),this._v(" "),e("li",[e("a",{attrs:{href:"/browse/trending"}},[this._v("trending")])]),this._v(" "),e("li",[e("a",{attrs:{href:"/browse/popular"}},[this._v("popular")])]),this._v(" "),e("li",[e("a",{attrs:{href:"/browse/new"}},[this._v("new")])])])}]};var L=i("VU/8")(T,S,!1,function(t){i("O8TO")},"data-v-56cdb160",null).exports,I={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer callout large secondary"},[s("div",{staticClass:"grid-container full"},[s("div",{staticClass:"large-3 cell"},[s("ul",{staticClass:"footer_links menu"},[s("li",[s("a",{attrs:{href:"https://creativecommons.org/contact"}},[t._v("Contact")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://creativecommons.org/privacy"}},[t._v("Privacy")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://creativecommons.org/policies"}},[t._v("Policies")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://creativecommons.org/terms"}},[t._v("Terms")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://creativecommons.org/faq"}},[t._v("FAQ")])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"grid-x grid-margin-x grid-margin-y"},[s("div",{staticClass:"medium-3 large-3 cell"},[s("img",{staticClass:"footer_logo",attrs:{src:i("668P")}}),t._v(" "),s("p",[t._v("\n              Weâre changing the way people share around the world\n              with our Global Community and 1.4 billion pieces of\n              content under our simple, easy-to-use open licenses.\n            ")])]),t._v(" "),s("div",{staticClass:"medium-3 large-3 medium-offset-1 large-offset-1 cell"},[s("div",{staticClass:"column footer_contact"},[s("h6",[s("a",{attrs:{href:"/about/contact"}},[t._v("We'd love to hear from you!")])]),t._v(" "),s("address",[t._v("\n                Creative Commons"),s("br"),t._v("\n                PO Box 1866, Mountain View, CA 94042\n              ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"mailto:info@creativecommons.org"}},[t._v("info@creativecommons.org")])]),t._v(" "),s("li",[s("a",{attrs:{href:"tel:1-415-429-6753"}},[t._v("1-415-429-6753")])])])])]),t._v(" "),s("div",{staticClass:"medium-3 large-3 medium-offset-1 large-offset-1 cell footer_license"},[s("aside",[s("div",{attrs:{"xmlns:cc":"https://creativecommons.org/ns#",about:"https://creativecommons.org"}},[s("p",[s("a",{staticClass:"subfoot",attrs:{href:"https://creativecommons.org/website-icons",target:"blank"}},[t._v("Icons")]),t._v("\n               by The Noun Project.")]),t._v(" "),s("p",{staticClass:"website-credit"},[t._v("Website by "),s("a",{staticClass:"subfoot",attrs:{href:"https://creativecommons.org",target:"blank"}},[t._v("CC")]),t._v(".")])])])])]),t._v(" "),s("div",{staticClass:"large-12 cell"},[s("div",{staticClass:"footer_disclaimer callout warning"},[t._v("\n          This is the first release of the new CC Search, aggregating data from publicly\n          available repositories of open content. CC has no control over the results that\n          are returned. Do not assume that the results displayed in this search portal are\n          under a CC license. You should always follow the link to verify that the work is\n          actually under a CC license and to verify the requirements of that license, including\n          the proper form of attribution. Since there is no registration to use a CC license, CC\n          has no way to determine what has and hasn't been placed under the terms of a CC license.\n          If you are in doubt you should contact the copyright holder directly, or try to contact\n          the site where you found the content.\n        ")])])])])}]};var x=i("VU/8")({name:"footer-section"},I,!1,function(t){i("ylUk")},"data-v-6997ac57",null).exports,F={name:"home-page",components:{HeaderSection:b,SearchGrid:L,FooterSection:x},data:function(){return{images:[{title:"Unpublished-Landscapes",url:"https://www.behance.net/gallery/41530879/Unpublished-Landscapes",id:11913497,class:"grid-item block b1",src:i("jsMJ")},{title:"Exploded Views",url:"https://www.flickr.com/photos/posk/7124858335",id:921892,class:"grid-item block b2",src:i("x3gY")},{title:"Specific_Media_04",url:"https://www.flickr.com/photos/k2space/14051210350",id:7797602,class:"grid-item block b3",src:i("+WOM")},{title:"Glitched Landscapes",url:"https://www.behance.net/gallery/36164749/Glitched-Landscapes",id:11882642,class:"grid-item block b4",src:i("Zyu9")},{title:"the mountain story",url:"https://www.behance.net/gallery/55404735/the-mountain-story",id:11859713,class:"grid-item block b5",src:i("iRF7")},{title:"Howling Mixed-Breed Brown Dog",url:"https://www.flickr.com/photos/foundanimalsfoundation/8557041595/",id:11723785,class:"grid-item block b6",src:i("mRDM")},{title:"Nike FFF Retouching",url:"https://www.behance.net/gallery/51974139/Nike-FFF-Retouching",id:11884100,class:"grid-item block b7",src:i("Q9uA")}]}},methods:{onCategoryClick:function(t){Tt.push({path:"search",query:{q:t}})},onGotoDetailPage:function(t){this.$router.push("/photos/"+t.id)}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-page grid-container full"},[s("header-section",{attrs:{showHero:"true"}}),t._v(" "),s("div",{staticClass:"home-page_body"},[s("section",{staticClass:"featured-images"},[t._m(0),t._v(" "),s("div",{staticClass:"featured-images_inner\n                  grid-x\n                  grid-margin-x\n                  grid-margin-y"},[s("div",{staticClass:"featured-images_item small-6 medium-3 cell",on:{click:function(e){t.onCategoryClick("people")}}},[s("span",{staticClass:"featured-images_banner"},[t._v("People")]),t._v(" "),s("img",{attrs:{src:i("Jead"),alt:""}})]),t._v(" "),s("div",{staticClass:"featured-images_item small-6 medium-3 cell",on:{click:function(e){t.onCategoryClick("nature")}}},[s("span",{staticClass:"featured-images_banner"},[t._v("Nature")]),t._v(" "),s("img",{attrs:{src:i("olmx"),alt:""}})]),t._v(" "),s("div",{staticClass:"featured-images_item small-6 medium-3 cell",on:{click:function(e){t.onCategoryClick("landscapes")}}},[s("span",{staticClass:"featured-images_banner"},[t._v("Landscapes")]),t._v(" "),s("img",{attrs:{src:i("3Rgy"),alt:""}})]),t._v(" "),s("div",{staticClass:"featured-images_item small-6 medium-3 cell",on:{click:function(e){t.onCategoryClick("animals")}}},[s("span",{staticClass:"featured-images_banner"},[t._v("Animals")]),t._v(" "),s("img",{attrs:{src:i("nWd9"),alt:""}})])])]),t._v(" "),s("section",{staticClass:"grid top-images"},[t._m(1),t._v(" "),s("div",{staticClass:"header-grid"},[t._l(t.images,function(e,i){return i<4?s("figure",{key:i,class:e.class,on:{click:function(i){t.onGotoDetailPage(e)}}},[s("a",{attrs:{href:e.url,target:"new"},on:{click:function(t){return t.preventDefault(),!1}}},[s("img",{attrs:{src:e.src}})]),t._v(" "),s("figcaption",{staticClass:"grid_item-overlay"},[s("a",{staticClass:"grid_overlay-title",attrs:{href:e.url,target:"new"},on:{click:function(t){return t.stopPropagation(),!1}}},[t._v("\n             "+t._s(e.title)+"\n          ")])])]):t._e()}),t._v(" "),s("div",{staticClass:"bottom-block"},t._l(t.images,function(e,i){return i>3?s("figure",{key:i,class:e.class,on:{click:function(i){t.onGotoDetailPage(e)}}},[s("a",{attrs:{href:e.url,target:"new"},on:{click:function(t){return t.preventDefault(),!1}}},[s("img",{attrs:{src:e.src}})]),t._v(" "),s("figcaption",{staticClass:"grid_item-overlay"},[s("a",{staticClass:"grid_overlay-title",attrs:{href:e.url,target:"new"},on:{click:function(t){return t.stopPropagation(),!1}}},[t._v("\n               "+t._s(e.title)+"\n            ")])])]):t._e()}))],2)])]),t._v(" "),s("footer-section")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"featured-images_header"},[e("h2",{staticClass:"featured-items_title"},[this._v("Top Categories")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"top-images_header"},[e("h2",{staticClass:"featured-items_title"},[this._v("Top Images")])])}]};var k=i("VU/8")(F,A,!1,function(t){i("aFpr")},null,null).exports,R=i("fZjL"),$=i.n(R),q={name:"search-grid-filter",props:{isVisible:!1},computed:{hasFilter:function(){var t=this;return $()(this.filter).some(function(e){return t.filter[e]})}},methods:{onUpdateFilter:function(){var t=this.filter;this.$store.commit("SET_GRID_FILTER",{filter:t})},onClearFilters:function(){var t=this;this.hasFilter&&($()(this.filter).forEach(function(e){t.filter[e]=""}),this.onUpdateFilter())}},data:function(){return{providers:[{value:"",text:""},{value:"rijksmuseum",text:"Rijksmuseum NL"},{value:"nypl",text:"New York Public Library"},{value:"museumsvictoria",text:"Museums Victoria"},{value:"met",text:"Metropolitan Museum of Art"},{value:"geographorguk",text:"GeographÂ® Britain and Ireland"},{value:"flickr",text:"Flickr"},{value:"europeana",text:"Europena collections"},{value:"deviantart",text:"DeviantArt"},{value:"behance",text:"Behance"},{value:"500px",text:"500px"}],licenses:[{value:"",text:""},{value:"by",text:"BY"},{value:"by-nc",text:"BY-NC"},{value:"by-nc-nd",text:"BY-NC-ND"},{value:"by-nc-sa",text:"BY-NC-SA"},{value:"by-sa",text:"BY-SA"},{value:"cc0",text:"CC0"},{value:"pdm",text:"Public Domain Mark"}],licenseTypes:[{value:"",text:""},{value:"all",text:"All"},{value:"all-cc",text:"CC-licensed works only (no PD)"},{value:"commercial",text:"Commercial use permitted"},{value:"modification",text:"Modification"}],filter:{provider:"",li:"",lt:""}}}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"search-filter":!0,"search-filter__visible":t.isVisible}},[i("div",{staticClass:"grid-x grid-margin-x grid-padding-x"},[i("div",{staticClass:"search-filter_providers\n                cell\n                medium-4\n                large-2\n                large-offset-3"},[t._m(0),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.provider,expression:"filter.provider"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"provider",e.target.multiple?i:i[0])},t.onUpdateFilter]}},t._l(t.providers,function(e,s){return i("option",{key:s,domProps:{value:e.value}},[t._v("\n          "+t._s(e.text)+"\n        ")])}))]),t._v(" "),i("div",{staticClass:"search-filter_license\n                cell\n                medium-4\n                large-2"},[t._m(1),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.li,expression:"filter.li"}],attrs:{disabled:""!==t.filter.lt},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"li",e.target.multiple?i:i[0])},t.onUpdateFilter]}},t._l(t.licenses,function(e,s){return i("option",{key:s,domProps:{value:e.value}},[t._v("\n          "+t._s(e.text)+"\n        ")])}))]),t._v(" "),i("div",{staticClass:"search-filter_licenseType\n                cell\n                medium-4\n                large-2"},[t._m(2),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.lt,expression:"filter.lt"}],attrs:{disabled:""!==t.filter.li},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"lt",e.target.multiple?i:i[0])},t.onUpdateFilter]}},t._l(t.licenseTypes,function(e,s){return i("option",{key:s,domProps:{value:e.value}},[t._v("\n          "+t._s(e.text)+"\n        ")])}))]),t._v(" "),i("div",{staticClass:"search-filter_licenseType\n                cell\n                medium-4\n                large-2"},[i("a",{staticClass:"button hollow search-filter_clear-btn",attrs:{disabled:!1===t.hasFilter},on:{click:t.onClearFilters}},[t._v("clear filters")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",[this._v("Collection")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",[this._v("Licenses")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",[this._v("License Types")])])}]};var H={name:"search-grid-form",data:function(){return{query:null,isFilterVisible:!1}},components:{SearchGridFilter:i("VU/8")(q,D,!1,function(t){i("L3sL")},"data-v-2d793b46",null).exports},methods:{onSubmit:function(t){t.preventDefault(),this.query&&this.$router.push({path:"search",query:{q:this.query}})},onToggleSearchGridFilter:function(){this.isFilterVisible=!this.isFilterVisible}},mounted:function(){this.query=this.$store.state.query.q}},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"search-form",attrs:{role:"search",method:"post"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("div",{staticClass:"search-form_ctr grid-x global-nav show-for-smedium"},[i("div",{staticClass:"search-form_inner-ctr cell medium-12 large-10"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search-form_input",attrs:{required:"required",autofocus:"",type:"search",placeholder:"Search the commons...",autocapitalize:"none",id:"searchInput"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),i("ul",{staticClass:"search-form_toolbar menu icons icon-top",attrs:{role:"menubar"}},[i("li",{staticClass:"menu-button search-form_search-button",attrs:{role:"menuitem"}},[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("i",{staticClass:"fi-list"},[i("svg",{attrs:{width:"24",height:"24",version:"1.1",viewBox:"0 0 50.000001 50.000001",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{attrs:{width:"24",height:"24","fill-opacity":"0"}}),t._v(" "),i("path",{attrs:{d:"m18.623 4.2559c-7.9132 0-14.367 6.454-14.367 14.367 0\n                   7.9132 6.454 14.367 14.367 14.367 3.2414 0 6.2283-1.0954\n                   8.6367-2.918a2.0002 2.0002 0 0 0 0.15039 0.16602l14.898\n                   14.898a2.0002 2.0002 0 1 0 2.8281 -2.8281l-14.898-14.898a2.0002\n                   2.0002 0 0 0 -0.16602 -0.15039c1.8225-2.4084 2.918-5.3953\n                   2.918-8.6367 0-7.9132-6.454-14.367-14.367-14.367zm0 3.5898c5.9732\n                   0 10.777 4.8042 10.777 10.777 0 5.9732-4.8042 10.777-10.777\n                   10.777s-10.777-4.8042-10.777-10.777c2e-7 -5.9732 4.8042-10.777\n                   10.777-10.777z",color:"#1779ba","color-rendering":"auto",fill:" #2c3e50"}})])]),t._v(" "),i("span",{staticClass:"menu-button_text"},[t._v("Search")])])]),t._v(" "),i("li",{staticClass:"menu-button search-form_filter-button",attrs:{role:"menuitem"}},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.onToggleSearchGridFilter()}}},[i("i",{staticClass:"fi-list"},[i("svg",{staticStyle:{"enable-background":"new 0 0 32 32"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#",version:"1.1",id:"DESIGNS",x:"0px",y:"0px",width:"24px",height:"24px",fill:"color: #2c3e50",viewBox:"0 0 32 32","xml:space":"preserve"}},[i("title",{attrs:{property:"dc:title"}},[t._v("to filter")]),i("desc",{attrs:{property:"dc:description"}},[t._v('\n                  An icon for "filter" from the Lines and Angles series on to [icon].\n                  Downloaded from http://www.toicon.com/icons/lines-and-angles_filter\n                  by 127.0.0.1 on 2017-07-10. Licensed CC-BY, see http://toicon.com/license/\n                  for details.')]),t._v(" "),i("path",{staticClass:"linesandangles_een",staticStyle:{fill:"#2c3e50"},attrs:{d:"M26,6v0.233l-8.487,9.43L17,\n                  16.233V17v7.764l-2-1V17v-0.767l-0.513-0.57L6,6.233V6H26 M28,4H4v3\n                  l9,10v8l6,3V17l9-10V4L28,4z"}}),t._v(" "),i("metadata",[i("work",{attrs:{"rdf:about":""}},[i("format",[t._v("image/svg+xml")]),t._v(" "),i("type",{attrs:{"rdf:resource":"http://purl.org/dc/dcmitype/StillImage"}}),t._v(" "),i("license",{attrs:{"rdf:resource":"http://creativecommons.org/licenses/by/4.0/"}}),t._v(" "),i("attributionname",[t._v("Shannon E Thomas")]),i("attributionurl",[t._v("\n                  http://www.toicon.com/icons/lines-and-angles_filter")])],1)],1)],1)]),t._v(" "),i("span",{staticClass:"menu-button_text"},[t._v("Filter")])])])])]),t._v(" "),i("div",{staticClass:"medium-12 large-12 search-grid-filter-ctr"},[i("search-grid-filter",{attrs:{isVisible:t.isFilterVisible}})],1)])])},staticRenderFns:[]};var G=i("VU/8")(H,P,!1,function(t){i("FV+E")},"data-v-f45f7874",null).exports,U={name:"share-list",data:function(){return{_isVisible:!1,listTitle:"",isNotificationVisible:!1,position:{x:0,y:0}}},beforeDestroy:function(){this.unsubscribe(),this.removeScrollEvent()},created:function(){var t=this;this.unsubscribe=this.$store.subscribe(function(e){"SELECT_IMAGE_FOR_LIST"===e.type&&(!1===t.isVisible&&t.$store.dispatch("FETCH_LISTS"),t.setPosition(e.payload.image),t.isVisible=!0),"ADD_END"===e.type&&t.showNotification()})},computed:{lists:function(){return this.$store.state.shareLists},selectedImage:function(){return this.$store.state.shareListSelectedImage},isVisible:{get:function(){return this.$data._isVisible},set:function(t){this.$data._isVisible=t,!0===t?(this.listTitle="",this.addScrollEvent()):this.$store.commit("SET_SHARE_LIST_IMAGES",{shareListImages:[]})}}},methods:{addScrollEvent:function(){window.addEventListener("scroll",this.removeScrollEvent.bind(this))},removeScrollEvent:function(){this.isVisible=!1,window.removeEventListener("scroll",this.removeScrollEvent)},onAddToList:function(t){this.$store.dispatch("ADD_IMAGE_TO_LIST",{auth:t.auth,selectedImageID:this.selectedImage.id,id:t.listID})},onCloseBar:function(){this.$data._isVisible=!1},onCreateList:function(){this.$store.dispatch("CREATE_LIST",{listTitle:this.listTitle,image:this.selectedImage})},onGotoListPage:function(t){this.$router.push("/lists/"+t)},showNotification:function(){var t=this;this.isNotificationVisible=!0,window.setTimeout(function(){t.isNotificationVisible=!1,t.isVisible=!1},3e3)},setPosition:function(t){var e=window.innerWidth,i=window.innerHeight,s=t.pageX,a=t.pageY;s+350>e&&(s-=350),a+200>i&&(a-=200),this.position.x=s,this.position.y=a}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.isVisible?i("div",{staticClass:"share-list",style:{left:t.position.x+"px",top:t.position.y+"px"}},[i("header",{staticClass:"share-list_header"},[i("h5",[t._v("ADD TO LIST")]),t._v(" "),i("div",{staticClass:"share-list_close-btn-ctr"},[i("button",{staticClass:"button secondary tiny share-list_close-btn",on:{click:function(e){return e.preventDefault(),t.onCloseBar(e)}}},[t._v("\n            close\n          ")])])]),t._v(" "),i("div",{staticClass:"share-list_create-ctr"},[i("div",{staticClass:"share-list_input-ctr"},[i("form",{staticClass:"cell medium-6 large-8",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.onCreateList(e)}}},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listTitle,expression:"listTitle"}],staticClass:"input-group-field",attrs:{type:"text",placeholder:"Create your list",required:"required"},domProps:{value:t.listTitle},on:{input:function(e){e.target.composing||(t.listTitle=e.target.value)}}}),t._v(" "),i("div",{staticClass:"input-group-button"},[i("input",{staticClass:"share-list_create-btn button",attrs:{type:"submit",value:"Create"}})])])])]),t._v(" "),i("div",{class:{"share-list_notification callout small success":!0,"share-list_notification__visible":t.isNotificationVisible}},[t._v("\n          Successfully Added to List\n        ")])]),t._v(" "),i("div",{staticClass:"share-list_images-ctr grid-x"},[0===t.lists.length?i("h6",[t._v("\n          You currently don't have any saved lists. "),i("br"),t._v(" Start by creating a list.\n        ")]):t._e(),t._v(" "),i("div",{staticClass:"share-list_images cell large-12"},[i("transition-group",{staticClass:"share-list_images-list",attrs:{name:"list-item",tag:"ul"}},t._l(t.lists,function(e){return i("li",{key:e.listID,staticClass:"share-list_image-item",on:{click:function(i){i.preventDefault(),t.onAddToList(e)}}},[i("div",{staticClass:"share-list_image-ctr"},[i("img",{staticClass:"share-list_image",attrs:{src:e.thumbnail}})]),t._v(" "),i("span",{staticClass:"share-list_add-label"},[t._v("Add to")]),t._v(" "),i("span",{staticClass:"share-list_image-label"},[t._v(t._s(e.listID))]),t._v(" "),i("button",{staticClass:"button success tiny share-list_view-btn",on:{click:function(i){i.preventDefault(),t.onGotoListPage(e.listID)}}},[t._v("\n                  view\n                ")])])}))],1)])]):t._e()])},staticRenderFns:[]};var N={name:"browse-page",components:{HeaderSection:b,SearchGridForm:G,ShareList:i("VU/8")(U,M,!1,function(t){i("M4cP")},"data-v-51ab8e09",null).exports,SearchGrid:L,FooterSection:x},data:function(){return{isHeaderFixed:!1,isVisible:!1}},computed:{images:function(){return this.$store.state.images},imagesCount:function(){return this.$store.state.imagesCount},query:function(){return this.$store.state.query.q},filter:function(){return this.$store.state.query.filter}},methods:{getImages:function(t){this.$store.dispatch("FETCH_IMAGES",t)},onScroll:function(){var t=this,e=window.scrollY;this.ticking||(window.requestAnimationFrame(function(){t.isHeaderFixed=e>134,t.ticking=!1}),this.ticking=!0)}},created:function(){var t=this,e=this.$route.query.q;this.$store.commit("SET_IMAGES",{images:[]}),e&&this.getImages({q:e,filter:this.filter}),this.unsubscribe=this.$store.subscribe(function(e){"SET_GRID_FILTER"===e.type&&t.getImages(E()({q:t.query},e.payload.filter))}),this.ticking=!1,window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){this.unsubscribe()},beforeRouteUpdate:function(t,e,i){this.getImages({q:t.query.q,filter:this.filter}),i()}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"browse-page"},[i("div",{staticClass:"search grid-x flexible"},[i("div",{staticClass:"cell"},[i("header-section",{attrs:{isHeaderFixed:t.isHeaderFixed}},[i("search-grid-form",{attrs:{query:t.query}})],1)],1),t._v(" "),i("div",{staticClass:"cell"},[i("search-grid",{attrs:{imagesCount:t.imagesCount,images:t.images,query:t.query,filter:t.filter}}),t._v(" "),i("share-list")],1)]),t._v(" "),i("footer-section")],1)},staticRenderFns:[]};var O=i("VU/8")(N,V,!1,function(t){i("mky4"),i("Ljfn")},null,null).exports,j=i("TQvf"),B=i.n(j),Y=(i("N1kN"),i("EAZf")),W=i.n(Y),z=this;s.a.use(W.a);var J={name:"photo-detail-page",components:{HeaderSection:b,SearchGrid:L,FooterSection:x},props:{id:""},data:function(){return{hasClarifaiTag:!1,imagecountseparator:"of",isPrimaryImageLoaded:!1,keyinput:!0,modalclose:!0,mousescroll:!0,showcaption:!0,showclosebutton:!0,showimagecount:!0,showthumbnails:!0}},computed:{filter:function(){return this.$store.state.query.filter},images:function(){return this.$store.state.images},imagesCount:function(){return this.$store.state.imagesCount},query:function(){return this.$store.state.query.q},relatedImages:function(){return this.$store.state.relatedImages},tags:function(){return this.$store.state.image.tags},image:function(){return this.$store.state.image},ccLicenseURL:function(){var t=this.image;return"https://creativecommons.org/licenses/"+t.license+"/"+t.license_version},textAttribution:function(){var t=this.image;return'"'+t.title+'" by '+t.creator+"\n              is licensed under CC "+t.license+"\n              "+t.license_version},HTMLAttribution:function(){var t=this.image;return'<a href="'+t.foreign_landing_url+'">"'+t.title+'"</a>\n              by\n              <a href="'+t.creator_url+'">'+t.creator+'</a>\n              is licensed under\n              <a href="'+this.ccLicenseURL+'">\n                CC '+t.license+" "+t.license_version+"\n              </a>"},show:function(){this.$el.querySelector(".images").$viewer.show()}},beforeRouteUpdate:function(t,e,i){this.loadImage(t.params.id),i()},methods:{initClipboard:function(){var t=this;new B.a(".photo_copy-btn",{text:function(e){return("html"===e.getAttribute("data-type")?t.HTMLAttribution:t.textAttribution).replace(/\s\s/g,"")}})},loadImage:function(t){t&&this.$store.dispatch("FETCH_IMAGE",{id:t})},onGotoSearchPage:function(t){this.$router.push({name:"browse-page",query:{q:t}})},onShowViewer:function(){this.images.length>0&&this.$refs.imageViewer.$viewer.show()}},created:function(){this.loadImage(this.$route.params.id),this.initClipboard()},mounted:function(){var t=this.query;t&&this.$store.dispatch("FETCH_RELATED_IMAGES",{q:t,pagesize:8})},watch:{tags:function(t){z.hasClarifaiTag=t.some(function(t){return"clarifai"===t.provider})}}},Q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"photo-detail-page grid-x"},[i("div",{staticClass:"cell"},[i("header-section",{attrs:{showNavSearch:"true",fixedNav:"true"}})],1),t._v(" "),i("div",{staticClass:"photo grid-x"},[i("div",{staticClass:"photo_image-ctr cell medium-12 large-8"},[i("img",{class:{photo_image:!0,"photo_image__has-viewer":this.images.length>0},attrs:{src:t.image.url},on:{click:t.onShowViewer,load:function(){return t.isPrimaryImageLoaded=!0}}})]),t._v(" "),i("div",{staticClass:"photo_info-ctr cell medium-12 large-4"},[t._m(0),t._v(" "),i("ul",[i("li",[i("h3",[t._v("Title")]),t._v(" "),i("span",[t._v(t._s(t.image.title))])]),t._v(" "),i("li",[i("h3",[t._v("Creator")]),t._v(" "),i("span",[i("a",{attrs:{href:t.image.creator_url}},[t._v(t._s(t.image.creator))])])]),t._v(" "),i("li",[i("h3",[t._v("License")]),t._v(" "),i("a",{attrs:{href:t.ccLicenseURL}},[t._v("\n            CC "+t._s(t.image.license)+" "+t._s(t.image.license_version)+"\n            ")])]),t._v(" "),i("li",[i("h3",[t._v("Source")]),t._v(" "),i("a",{attrs:{href:t.image.foreign_landing_url}},[t._v(t._s(t.image.provider))])])]),t._v(" "),i("section",{staticClass:"photo_usage"},[t._m(1),t._v(" "),i("p",{ref:"photoAttribution",staticClass:"photo_usage-attribution"},[i("a",{attrs:{href:t.image.foreign_landing_url}},[t._v('"'+t._s(t.image.title)+'"')]),t._v("\n            by\n            "),i("a",{attrs:{href:t.image.creator_url}},[t._v(t._s(t.image.creator))]),t._v("\n            is licensed under\n            "),i("a",{attrs:{href:t.ccLicenseURL}},[t._v("\n            CC "+t._s(t.image.license)+" "+t._s(t.image.license_version)+"\n            ")])]),t._v(" "),i("button",{staticClass:"button photo_copy-btn\n            photo_copy-btn__html",attrs:{"data-type":"html"}},[t._v("\n          Copy to HTML")]),t._v(" "),i("button",{staticClass:"button\n            photo_copy-btn\n            photo_copy-btn__text",attrs:{"data-type":"text"}},[t._v("\n          Copy to Text\n          ")])])])]),t._v(" "),t.tags?i("div",{staticClass:"photo_tags grid-x full"},[t._m(2),t._v(" "),i("div",{staticClass:"photo_tags-ctr cell large-12"},[t._l(t.image.tags,function(e,s){return[i("a",{key:s,staticClass:"photo_tag button",on:{click:function(i){t.onGotoSearchPage(e.name)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])]})],2)]):t._e(),t._v(" "),t.query?i("div",{staticClass:"photo_related-images grid-x"},[t._m(3),t._v(" "),!0===t.isPrimaryImageLoaded?i("search-grid",{attrs:{imagesCount:t.imagesCount,images:t.relatedImages,query:t.query,filter:t.filter,includeAnalytics:!1,useInfiniteScroll:!1,includeAddToList:!1}}):t._e()],1):t._e(),t._v(" "),i("footer-section"),t._v(" "),!0===t.isPrimaryImageLoaded?i("viewer",{ref:"imageViewer",attrs:{images:t.images}},[i("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!1},expression:"{movable: false}"}],staticClass:"photo_image-viewer"},t._l(t.images,function(t,e){return i("img",{key:e,attrs:{src:t.url}})}))]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"photo_info-header"},[e("h2",[this._v("\n            PHOTO INFO\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"photo_info-header"},[e("h2",[this._v("\n              Photo Attribution\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h2",[this._v("Tags")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h2",[this._v("Related Images")])])}]};var K=i("VU/8")(J,Q,!1,function(t){i("9jgp")},"data-v-57de42c8",null).exports,Z=i("mvHQ"),X=i.n(Z),tt=i("//Fk"),et=i.n(tt),it={createList:function(t){var e=this,i={title:t.listTitle,images:[t.image.id]};return h.post("/list",i).then(function(i){var s=i.data,a=e.getShareListID(s.url),r=e.getShareListURL(a);return e.saveListToLocalStorage(a,s.auth,t.image.url,r).then(function(t){return t.reverse(),{lists:t}})})},getShareListID:function(t){return t.match(/\/(?:list\/)(.*)/)[1]},getShareListURL:function(t){var e="/lists/"+t;return location.origin+e},getListsFromLocalStorage:function(){var t=JSON.parse(localStorage.getItem("cc-share-lists"));return t&&t.reverse(),et.a.resolve(t||[])},getAuthTokenFromLocalStorage:function(t){var e=JSON.parse(localStorage.getItem("cc-share-lists")).find(function(e){return e.listID===t}),i=void 0;return e&&(i=e.auth),et.a.resolve(i)},deleteListFromLocalStorage:function(){return this.getListsFromLocalStorage().then(function(t){return localStorage.setItem("cc-share-lists",X()(t))})},saveListToLocalStorage:function(t,e,i,s){return this.getListsFromLocalStorage().then(function(a){return a.push({listID:t,auth:e,thumbnail:i,url:s}),localStorage.setItem("cc-share-lists",X()(a)),a})},createShortenedListURL:function(t){return h.post("/link",{url:t.url})},updateList:function(t){return h.update("/list",t.id,{images:t.images},{Authorization:"Token "+t.auth})},deleteList:function(t){return h.delete("/list",t.id,{images:t.images},{Authorization:"Token "+t.auth})},getList:function(t){return h.get("/list",t.id)}},st={name:"social-share-list",props:{isMedium:"",shareURL:"",shareText:"",imageURL:""},computed:{shareImageURL:function(){return this.imageURL},getShareText:function(){return encodeURI("I created an image list @creativecommons: "+this.shareURL)},getShareListURL:function(){return this.shareURL}}},at={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"social-share":!0,"social-share__medium":t.isMedium}},[i("div",{staticClass:"share-list_social-items cell medium-6 large-4"},[i("a",{staticClass:"social-button facebook",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+t.getShareListURL+"\n        &t=="+t.shareText+"&href="+t.getShareListURL}}),t._v(" "),i("a",{staticClass:"social-button twitter",attrs:{target:"_blank",href:"https://twitter.com/intent/tweet?text="+t.getShareText}}),t._v(" "),i("a",{staticClass:"social-button pinterest",attrs:{target:"_blank",href:"https://www.pinterest.com/pin/create/bookmarklet/?media="+t.shareImageURL+"&description="+t.getShareText}})])])},staticRenderFns:[]};var rt={name:"share-list-page",components:{HeaderSection:b,SearchGridForm:G,FooterSection:x,SocialShareButtons:i("VU/8")(st,at,!1,function(t){i("DGdl")},"data-v-3b6c27ea",null).exports},props:{id:null},data:function(){return{authToken:null,imageURL:""}},computed:{shareListImages:function(){return this.$store.state.shareListImages},shareURL:function(){return window.location},shareText:function(){return encodeURI("I created an image list @creativecommons: "+this.shareURL)}},created:function(){var t=this;this.$store.dispatch("FETCH_LIST",{id:this.id}),it.getAuthTokenFromLocalStorage(this.id).then(function(e){t.authToken=e})},watch:{shareListImages:function(t){return window.location+"/photos/"+t[0].id}},methods:{getList:function(){this.$store.dispatch("FETCH_LIST",{id:this.id})},onRemoveImage:function(t){this.$store.dispatch("REMOVE_IMAGE_FROM_LIST",{auth:this.authToken,id:this.id,imageID:t.id,shareListImages:this.shareListImages})},onGotoPhotoDetailPage:function(t){this.$router.push("/photos/"+t.id)}}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"share-list-page grid-x"},[i("div",{staticClass:"cell"},[i("header-section",{attrs:{showNavSearch:"true",fixedNav:"true"}})],1),t._v(" "),i("div",{staticClass:"cell\n                small-11\n                medium-11\n                large-11\n                grid-padding-x\n                share-list"},[i("header",{staticClass:"share-list_header"},[i("h1",{staticClass:"share-list_header-title"},[t._v("\n          "+t._s(t.id)+" list\n        ")]),t._v(" "),i("social-share-buttons",{attrs:{imageURL:t.imageURL,shareText:t.shareText,shareURL:t.shareURL}})],1),t._v(" "),i("div",{staticClass:"share-list_items"},t._l(t.shareListImages,function(e,s){return i("div",{key:s,class:{"search-list_item":!0,"search-grid_ctr__active":e.isActive}},[i("article",{staticClass:"article-row",on:{click:function(i){i.stopPropagation(),t.onGotoPhotoDetailPage(e)}}},[i("div",{staticClass:"article-row-img"},[i("img",{staticClass:"share-list_image",attrs:{src:e.thumbnail||e.url}})]),t._v(" "),i("div",{staticClass:"article-row-content"},[i("h2",{staticClass:"article-row-content-header"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"article-row-content-author"},[t._v("By "+t._s(e.creator))]),t._v(" "),i("p",{staticClass:"article-row-content-license"},[t._v("\n                License CC "+t._s(e.license)+" "+t._s(e.license_version)+"\n              ")]),t._v(" "),i("p",{staticClass:"article-row-content-author"},[t._v("Provider "+t._s(e.provider))]),t._v(" "),t.authToken?i("a",{staticClass:"share-list_remove-btn",on:{click:function(i){i.stopPropagation(),t.onRemoveImage(e)}}},[t._v("Remove from list")]):t._e()])])])}))]),t._v(" "),i("footer-section")],1)},staticRenderFns:[]};var ot,ct,lt,ut,ht=i("VU/8")(rt,nt,!1,function(t){i("GBH0")},"data-v-e59ed192",null).exports,mt=i("IrJ7"),dt=i("bOdI"),ft=i.n(dt),gt=i("pFYg"),_t=i.n(gt),vt={search:function(t){if("object"!==(void 0===t?"undefined":_t()(t))||!1===Object.prototype.hasOwnProperty.call(t,"q"))throw new Error("[RWV] ImageService.search() q parameter required to search images.");return r()(t,t.filters),h.query("image/search",t)},getImageDetail:function(t){if(t.id&&isNaN(t.id))throw new Error("[RWV] ImageService.getImageDetail() id parameter required to retreive image details.");return h.get("image",t.id)}},pt={state:{filter:{},image:{},imagesCount:0,imagePage:1,images:[],isFetching:!1,query:{q:""},relatedImages:[],relatedImagesCount:0},actions:(ot={},ft()(ot,"FETCH_IMAGES",function(t,e){var i=t.commit;return i("FETCH_START"),vt.search(e).then(function(t){var s=t.data;i("FETCH_END"),i("SET_IMAGES",{images:s.results,imagesCount:s.result_count,shouldPersistImages:e.shouldPersistImages}),i("SET_IMAGE_PAGE",{imagePage:e.page||1}),e.q&&i("SET_QUERY",e)}).catch(function(t){throw new Error(t)})}),ft()(ot,"FETCH_IMAGE",function(t,e){var i=t.commit;return i("FETCH_START"),vt.getImageDetail(e).then(function(t){var e=t.data;i("FETCH_END"),i("SET_IMAGE",{image:e})}).catch(function(t){throw new Error(t)})}),ft()(ot,"FETCH_RELATED_IMAGES",function(t,e){var i=t.commit;return i("FETCH_START"),vt.search(e).then(function(t){var s=t.data;i("FETCH_END"),i("SET_RELATED_IMAGES",{relatedImages:s.results,relatedImagesCount:s.result_count}),void 0===e.page&&i("SET_IMAGE_PAGE",{imagePage:1}),e.q&&i("SET_QUERY",e)}).catch(function(t){throw new Error(t)})}),ot),mutations:(ct={},ft()(ct,"FETCH_START",function(t){t.isFetching=!0}),ft()(ct,"FETCH_END",function(t){t.isFetching=!1}),ft()(ct,"SET_IMAGE",function(t,e){t.image=e.image}),ft()(ct,"SET_IMAGE_PAGE",function(t,e){t.imagePage=e.imagePage}),ft()(ct,"SET_RELATED_IMAGES",function(t,e){t.relatedImages=e.relatedImages,t.relatedImagesCount=e.relatedImagesCount}),ft()(ct,"SET_GRID_FILTER",function(t,e){t.filter=e.filter}),ft()(ct,"SET_IMAGES",function(t,e){e.shouldPersistImages?t.images=t.images.concat(e.images):t.images=e.images,t.imagesCount=e.imagesCount}),ft()(ct,"SET_QUERY",function(t,e){t.query.q=e.q}),ct)},Ct=(lt={},ft()(lt,"CREATE_LIST",function(t,e){var i=t.commit;return i("FETCH_START"),it.createList(e).then(function(t){var e=t.lists;i("FETCH_END"),i("SET_SHARE_LISTS",{shareLists:e})}).catch(function(t){throw new Error(t)})}),ft()(lt,"FETCH_LIST",function(t,e){var i=t.commit;return i("FETCH_START"),it.getList(e).then(function(t){var e=t.data;i("FETCH_END"),i("SET_SHARE_LIST",{shareListImages:e.images})}).catch(function(t){throw new Error(t)})}),ft()(lt,"FETCH_LISTS",function(t){var e=t.commit;return e("FETCH_START"),it.getListsFromLocalStorage().then(function(t){e("FETCH_END"),e("SET_SHARE_LISTS",{shareLists:t})}).catch(function(t){throw new Error(t)})}),ft()(lt,"ADD_IMAGE_TO_LIST",function(t,e){var i=t.commit;return i("FETCH_START"),it.getList(e).then(function(t){var s=t.data,a=[e.selectedImageID];return s.images&&(a=a.concat(s.images.map(function(t){return t.id}))),it.updateList({auth:e.auth,id:e.id,images:a}).then(function(){Ct.FETCH_LIST({commit:i},e),i("FETCH_END"),i("ADD_END")})}).catch(function(t){throw new Error(t)})}),ft()(lt,"REMOVE_IMAGE_FROM_LIST",function(t,e){var i=t.commit;i("FETCH_START");var s=[];return e.shareListImages.forEach(function(t){t.id!==e.imageID&&s.push(t.id)}),it.updateList({auth:e.auth,id:e.id,images:s}).then(function(){Ct.FETCH_LIST({commit:i},e),i("FETCH_END")}).catch(function(t){throw new Error(t)})}),lt),bt=(ut={},ft()(ut,"SELECT_IMAGE_FOR_LIST",function(t,e){t.shareListSelectedImage=e.image}),ft()(ut,"FETCH_START",function(t){t.isFetching=!0}),ft()(ut,"FETCH_END",function(t){t.isFetching=!1}),ft()(ut,"SET_SHARE_URL",function(t,e){var i="/lists/"+e.url.match(/\/(?:list\/)(.*)/)[1];t.shareListURL=location.origin+i}),ft()(ut,"UNSET_SHARE_URL",function(t){t.shareListURL=""}),ft()(ut,"SET_SHARE_LIST",function(t,e){t.shareListImages=e.shareListImages}),ft()(ut,"SET_SHARE_LISTS",function(t,e){t.shareLists=e.shareLists}),ut),wt={state:{isFetching:!1,shareListSelectedImage:{},shareListImages:[],shareLists:[],shareListURL:""},actions:Ct,mutations:bt};s.a.use(mt.a);var Et=new mt.a({actions:r()(pt.actions,wt.actions),state:r()(pt.state,wt.state),mutations:r()(pt.mutations,wt.mutations)});s.a.use(f.a);var yt=new f.a({mode:"history",routes:[{path:"/search",name:"browse-page",component:O,props:function(t){return{query:t.query.q}}},{path:"/lists/:id",name:"share-list-page",component:ht,props:!0},{path:"/photos/:id",name:"photo-detail-page",component:K,props:!0},{path:"/",name:"home-page",component:k}],scrollBehavior:function(){return{x:0,y:0}}});yt.afterEach(function(t){t&&t.query&&t.query.q&&Et.commit("SET_QUERY",t.query),Et.commit("SET_SHARE_LIST",{shareListImages:[]}),Et.commit("SET_IMAGE",{image:{}})});var Tt=yt;s.a.config.productionTip=!1,h.init(),new s.a({el:"#app",store:Et,router:Tt,components:{App:d},template:"<App/>"})},O8TO:function(t,e){},"P+D4":function(t,e){},Q9uA:function(t,e,i){t.exports=i.p+"static/img/soccer_medium.76afbb2.jpg"},Zyu9:function(t,e,i){t.exports=i.p+"static/img/sky_medium.a845873.jpg"},aFpr:function(t,e){},bAaG:function(t,e){},fJUK:function(t,e){},iRF7:function(t,e,i){t.exports=i.p+"static/img/mountain_medium.8f5ed07.jpg"},jsMJ:function(t,e,i){t.exports=i.p+"static/img/record_large.533e6ef.jpg"},mRDM:function(t,e,i){t.exports=i.p+"static/img/dog_medium.84af565.jpg"},mky4:function(t,e){},nWd9:function(t,e,i){t.exports=i.p+"static/img/animals_medium.d059ec7.jpg"},olmx:function(t,e,i){t.exports=i.p+"static/img/nature_medium.52c7804.jpg"},x3gY:function(t,e,i){t.exports=i.p+"static/img/lights_large.319fe4e.jpg"},ylUk:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b03dde5346c7482eea54.js.map