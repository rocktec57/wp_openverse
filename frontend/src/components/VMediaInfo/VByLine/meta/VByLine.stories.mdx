import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs"
import { supportedMediaTypes } from "~/constants/media"
import { useProviderStore } from "~/stores/provider"

import VByLine from "~/components/VMediaInfo/VByLine/VByLine.vue"

export const Template = (args) => ({
  template: `<div class="wrapper w-full inline-flex p-4"><VByLine v-bind="args" /></div>`,
  components: { VByLine },
  setup() {
    const providerStore = useProviderStore()
    providerStore.getProviders().then(/** */)
    return { args }
  },
})

<Meta
  title="Components/VByLine"
  component={VByLine}
  argTypes={{
    mediaType: {
      control: "select",
      options: supportedMediaTypes,
    },
    creator: {
      control: "text",
    },
    sourceName: {
      control: "text",
    },
    sourceSlug: {
      control: "text",
    },
  }}
/>

# VByLine

<Description of={VByLine} />

<ArgsTable of={VByLine} />

<Canvas>
  <Story
    name="default"
    args={{
      mediaType: "image",
      creator: "kellascat",
      sourceSlug: "met",
      sourceName: "Metropolitan Museum",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Long titles use scrolling

<Canvas>
  <Story
    name="long"
    args={{
      mediaType: "image",
      creator: "Roland Folger Coffin, American, 1826â€“1888",
      sourceSlug: "smithsonian_cooper_hewitt_museum",
      sourceName:
        "Smithsonian Institution: Cooper Hewitt, Smithsonian Design Museum",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
